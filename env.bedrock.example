# ========================================
# Amazon Bedrock Configuration Sample
# ========================================
# This is a sample .env file for using Amazon Bedrock as your LLM provider
# Copy this file to .env to use it:
#   cp env.bedrock.example .env

# LLM Provider: Set to 'bedrock' to use Amazon Bedrock
LLM_PROVIDER=bedrock

# AWS Region
# Specify the AWS region where Bedrock is available
# Examples: us-east-1, us-west-2, eu-central-1, ap-northeast-1
AWS_REGION=eu-central-1

# ========================================
# Authentication Method 1: Bearer Token (Recommended for Inference Profiles)
# ========================================
# Bearer token for Bedrock authentication
# This is required when using inference profiles (e.g., Sonnet 4.5)
AWS_BEARER_TOKEN_BEDROCK=your-bearer-token-here

# ========================================
# Authentication Method 2: AWS Access Keys (Traditional)
# ========================================
# If not using Bearer token, use AWS Access Key ID and Secret Access Key
# Get your AWS credentials from AWS IAM
# AWS_ACCESS_KEY_ID=your-aws-access-key-id-here
# AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key-here

# Bedrock Model ID
# Specify the model ID you want to use
# Available models (as of 2025):
#
# Claude Sonnet 4.5 (Inference Profile - requires Bearer token):
#   - eu.anthropic.claude-sonnet-4-5-20250929-v1:0 (EU region inference profile)
#   - us.anthropic.claude-sonnet-4-5-20250929-v1:0 (US region inference profile)
#
# Claude 3.5 Sonnet (Direct model access):
#   - anthropic.claude-3-5-sonnet-20241022-v2:0 (Recommended for Access Key auth)
#
# Other Claude models:
#   - anthropic.claude-3-sonnet-20240229-v1:0
#   - anthropic.claude-3-haiku-20240307-v1:0
#   - anthropic.claude-v2:1
#
# Other providers:
#   - amazon.titan-text-express-v1
#   - meta.llama3-70b-instruct-v1:0
#
# Note: If using Bearer token, the default will be eu.anthropic.claude-sonnet-4-5-20250929-v1:0
BEDROCK_MODEL_ID=eu.anthropic.claude-sonnet-4-5-20250929-v1:0

# ========================================
# OpenAI Configuration (Not used when LLM_PROVIDER=bedrock)
# ========================================
# You can keep your OpenAI key here for easy switching
# It will be ignored when LLM_PROVIDER=bedrock is set
# OPENAI_API_KEY=sk-proj-your-key-here
# OPENAI_MODEL=gpt-4

# ========================================
# Local LLM Configuration (Not used when LLM_PROVIDER=bedrock)
# ========================================
# These settings are ignored when LLM_PROVIDER is set to 'bedrock'
# LOCAL_LLM_BASE_URL=http://localhost:11434/v1
# LOCAL_LLM_MODEL=llama2

# ========================================
# Setup Instructions
# ========================================
# Option A: Using Bearer Token (for Inference Profiles like Sonnet 4.5)
# 1. Obtain a Bearer token from AWS (contact AWS support or use IAM)
# 2. Enable model access in AWS Bedrock console:
#    - Go to AWS Console > Bedrock > Model access
#    - Request access to inference profiles (Sonnet 4.5)
#    - Wait for approval
# 3. Copy this file to .env:
#    cp env.bedrock.example .env
# 4. Update the following values:
#    - AWS_REGION (e.g., eu-central-1)
#    - AWS_BEARER_TOKEN_BEDROCK (your bearer token)
#    - BEDROCK_MODEL_ID (e.g., eu.anthropic.claude-sonnet-4-5-20250929-v1:0)
# 5. Run the development server:
#    npm run dev
#
# Option B: Using Access Keys (for Direct Model Access)
# 1. Set up AWS credentials:
#    - Create an IAM user with Bedrock access permissions
#    - Attach policy: AmazonBedrockFullAccess (or custom policy)
#    - Generate access key and secret key
# 2. Enable model access in AWS Bedrock console:
#    - Go to AWS Console > Bedrock > Model access
#    - Request access to the models you want to use
#    - Wait for approval (usually instant for Claude models)
# 3. Copy this file to .env:
#    cp env.bedrock.example .env
# 4. Update the following values:
#    - AWS_REGION (your preferred region)
#    - AWS_ACCESS_KEY_ID (your IAM access key)
#    - AWS_SECRET_ACCESS_KEY (your IAM secret key)
#    - BEDROCK_MODEL_ID (e.g., anthropic.claude-3-5-sonnet-20241022-v2:0)
# 5. Run the development server:
#    npm run dev
#
# Note: Bedrock charges per token usage

# ========================================
# Admin Panel (Optional)
# ========================================
# Set a password to enable the Admin Panel UI. If unset, the
# Admin Panel is disabled and the button is hidden.
# ADMIN_PASSWORD=change-me

# ========================================
# Troubleshooting
# ========================================
# If you encounter authentication errors:
# - Verify your AWS credentials (Bearer token or Access Keys) are correct
# - Check that your IAM user/token has bedrock:InvokeModel permission
# - Ensure the model is enabled in Bedrock Model access settings
# - Verify the model ID matches exactly (case-sensitive)
# - Check that Bedrock is available in your selected region
# - For Sonnet 4.5: Ensure you're using an inference profile ID (e.g., eu.anthropic.claude-*)
# - For Sonnet 4.5: Ensure you're using Bearer token authentication
# - Check logs for detailed error messages (npm run dev shows console output)

